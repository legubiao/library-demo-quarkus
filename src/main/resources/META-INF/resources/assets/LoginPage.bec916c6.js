var M=Object.defineProperty,A=Object.defineProperties;var F=Object.getOwnPropertyDescriptors;var B=Object.getOwnPropertySymbols;var H=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable;var Q=(e,t,l)=>t in e?M(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,y=(e,t)=>{for(var l in t||(t={}))H.call(t,l)&&Q(e,l,t[l]);if(B)for(var l of B(t))O.call(t,l)&&Q(e,l,t[l]);return e},_=(e,t)=>A(e,F(t));import{a as g,c as I,r as o,w as W,o as D,h as u,U as X,d as Y,ba as G,A as J,_ as K,a0 as Z,V as ee,i as te,Q as $,a6 as ae,W as r,S,ar as k,X as le,a4 as f,R as ne,Y as ie,as as z,a3 as oe,at as re,br as se,bs as ue}from"./index.bc8510fa.js";import{Q as ce}from"./QBtnDropdown.fb669136.js";import{Q as de}from"./QInnerLoading.b919ddb6.js";import{a as ge}from"./index.2cf0d985.js";import{u as me}from"./use-quasar.28424290.js";import"./selection.4f5ad97a.js";const fe={ratio:[String,Number]};function ve(e,t){return g(()=>{const l=Number(e.ratio||(t!==void 0?t.value:void 0));return isNaN(l)!==!0&&l>0?{paddingBottom:`${100/l}%`}:null})}const he=16/9;var be=I({name:"QImg",props:_(y({},fe),{src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:he},placeholderSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String}),emits:["load","error"],setup(e,{slots:t,emit:l}){const c=o(e.initialRatio),s=ve(e,c);let i;const n=[o(null),o(e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null)],d=o(0),v=o(!1),h=o(!1),V=g(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),j=g(()=>({width:e.width,height:e.height})),p=g(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition`),L=g(()=>_(y({},e.imgStyle),{objectFit:e.fit,objectPosition:e.position}));W(()=>w(),q);function w(){return e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null}function q(a){if(clearTimeout(i),h.value=!1,a===null){v.value=!1,n[0].value=null,n[1].value=null;return}v.value=!0,n[d.value].value=a}function R({target:a}){i!==null&&(clearTimeout(i),c.value=a.naturalHeight===0?.5:a.naturalWidth/a.naturalHeight,C(a,1))}function C(a,m){i===null||m===1e3||(a.complete===!0?T(a):i=setTimeout(()=>{C(a,m+1)},50))}function T(a){i!==null&&(d.value=d.value===1?0:1,n[d.value].value=null,v.value=!1,h.value=!1,l("load",a.currentSrc||a.src))}function U(a){clearTimeout(i),v.value=!1,h.value=!0,n[0].value=null,n[1].value=null,l("error",a)}function P(a,m){return u("div",{class:"q-img__container absolute-full",key:a},m)}function x(a){const m=n[a].value,b=y({key:"img_"+a,class:p.value,style:L.value,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable},m);return d.value===a?(b.class+=" q-img__image--waiting",Object.assign(b,{onLoad:R,onError:U})):b.class+=" q-img__image--loaded",P("img"+a,u("img",b))}function E(){return v.value!==!0?u("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},Y(t[h.value===!0?"error":"default"])):u("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},t.loading!==void 0?t.loading():e.noSpinner===!0?void 0:[u(G,{color:e.spinnerColor,size:e.spinnerSize})])}return q(w()),D(()=>{clearTimeout(i),i=null}),()=>{const a=[];return s.value!==null&&a.push(u("div",{key:"filler",style:s.value})),h.value!==!0&&(n[0].value!==null&&a.push(x(0)),n[1].value!==null&&a.push(x(1))),a.push(u(X,{name:"q-transition--fade"},E)),u("div",{class:V.value,style:j.value,role:"img","aria-label":e.alt},a)}}});const ye=["top","middle","bottom"];var Se=I({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:e=>ye.includes(e)}},setup(e,{slots:t}){const l=g(()=>e.align!==void 0?{verticalAlign:e.align}:null),c=g(()=>{const s=e.outline===!0&&e.color||e.textColor;return`q-badge flex inline items-center no-wrap q-badge--${e.multiLine===!0?"multi":"single"}-line`+(e.outline===!0?" q-badge--outline":e.color!==void 0?` bg-${e.color}`:"")+(s!==void 0?` text-${s}`:"")+(e.floating===!0?" q-badge--floating":"")+(e.rounded===!0?" q-badge--rounded":"")+(e.transparent===!0?" q-badge--transparent":"")});return()=>u("div",{class:c.value,style:l.value,role:"alert","aria-label":e.label},J(t.default,e.label!==void 0?[e.label]:[]))}});const _e=Z({name:"loginPage",setup(){const e=me(),t=o(!0),l=ee(),c=o(""),s=o(""),i=te("api"),n=o(!1);return{showLogin:t,username:c,password:s,loading:n,login(){n.value=!0,i.value=ge.create({baseURL:"http://localhost:8080",auth:{username:c.value,password:s.value}}),i.value.get("user/login").then(d=>{sessionStorage.setItem("role",d.data),n.value=!1,l.push("main")}).catch(d=>{n.value=!1,e.notify({type:"negative",message:"\u7528\u6237\u540D\u6216\u5BC6\u7801\u65E0\u6548"})})},registerUser:o()}}}),N=e=>(se("data-v-8a8c0508"),e=e(),ue(),e),we={class:"row justify-center items-center"},qe={class:"q-gutter-sm"},Ce=N(()=>f("div",{class:"text-h4 text-bold"},"\u6B22\u8FCE\u4F7F\u7528",-1)),xe={class:"justify-center row q-gutter-sm items-center content-center"},Be=N(()=>f("div",{class:"text-h3 text-bold"},"\u56FE\u4E66\u9986\u7CFB\u7EDF",-1)),Qe={class:"flex justify-center"},$e={class:"q-gutter-y-md text-center q-pa-sm",style:{"max-width":"20rem"}};function ke(e,t,l,c,s,i){return $(),ae("div",we,[r(be,{src:"bg/xz2p_5.jpg",class:"background"}),r(re,{class:"front q-pa-md text-primary bg-white"},{default:S(()=>[r(k,{class:"row content-center justify-center items-center"},{default:S(()=>[r(le,{name:"auto_stories",class:"q-pa-md",size:"10rem"}),f("div",qe,[Ce,f("div",xe,[Be,e.$q.screen.gt.xs?($(),ne(Se,{key:0,color:"primary",class:"text-h5",label:"PC\u7AEF"})):ie("",!0)])])]),_:1}),f("div",Qe,[f("div",$e,[r(z,{filled:"",clearable:"",class:"text-h6",modelValue:e.username,"onUpdate:modelValue":t[0]||(t[0]=n=>e.username=n),placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u540D"},null,8,["modelValue"]),r(z,{clearable:"",class:"text-h6",filled:"",modelValue:e.password,"onUpdate:modelValue":t[1]||(t[1]=n=>e.password=n),placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801",type:"password"},null,8,["modelValue"])])]),r(k,{class:"q-pa-sm"},{default:S(()=>[r(ce,{padding:"0.5rem 4rem",class:"text-bold text-h6","content-class":"blur",size:"lg",color:"primary","menu-offset":[0,8],split:"",label:"\u767B\u5F55\u7CFB\u7EDF",onClick:e.login},{default:S(()=>[r(oe,{color:"secondary",size:"lg",stretch:"",class:"full-width",label:"\u6CE8\u518C\u65B0\u7528\u6237",onClick:t[2]||(t[2]=n=>e.registerUser.show())})]),_:1},8,["onClick"])]),_:1}),r(de,{showing:e.loading,label:"\u6B63\u5728\u767B\u5F55","label-class":"text-primary text-h5"},null,8,["showing"])]),_:1})])}var Re=K(_e,[["render",ke],["__scopeId","data-v-8a8c0508"]]);export{Re as default};
